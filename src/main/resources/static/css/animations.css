/* Animation effects for live updates */

/* Flash animation for updated rows */
@keyframes flash {
    0% {
        background-color: #fef3c7;
        box-shadow: inset 0 0 0 1px #f59e0b;
    }
    50% {
        background-color: #fef3c7;
        box-shadow: inset 0 0 0 1px #f59e0b;
    }
    100% {
        background-color: transparent;
        box-shadow: inset 0 0 0 1px transparent;
    }
}

/* Apply flash to updated rows */
.data-table__row.flash {
    animation: flash 1s ease-out forwards;
}

/* Highlight new rows */
@keyframes highlight-new {
    0% {
        background-color: #dcfce7;
        box-shadow: inset 0 0 0 2px #22c55e;
    }
    100% {
        background-color: transparent;
        box-shadow: inset 0 0 0 2px transparent;
    }
}

.data-table__row.new {
    animation: highlight-new 1.5s ease-out forwards;
}

/* Fade out for deleted rows */
@keyframes fade-out {
    0% {
        opacity: 1;
    }
    100% {
        opacity: 0;
    }
}

.data-table__row.deleting {
    animation: fade-out 0.3s ease-out forwards;
}

/* Pulse for loading state */
@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

.data-table__row.loading {
    animation: pulse 1s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* Slide in from top for new rows */
@keyframes slide-in {
    from {
        transform: translateY(-20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.data-table__row.slide-in {
    animation: slide-in 0.3s ease-out forwards;
}

/* Dark mode adjustments */
@media (prefers-color-scheme: dark) {
    @keyframes flash-dark {
        0% {
            background-color: #78350f;
            box-shadow: inset 0 0 0 1px #b45309;
        }
        50% {
            background-color: #78350f;
            box-shadow: inset 0 0 0 1px #b45309;
        }
        100% {
            background-color: transparent;
            box-shadow: inset 0 0 0 1px transparent;
        }
    }

    @keyframes highlight-new-dark {
        0% {
            background-color: #064e3b;
            box-shadow: inset 0 0 0 2px #10b981;
        }
        100% {
            background-color: transparent;
            box-shadow: inset 0 0 0 2px transparent;
        }
    }

    .data-table__row.flash {
        animation: flash-dark 1s ease-out forwards;
    }

    .data-table__row.new {
        animation: highlight-new-dark 1.5s ease-out forwards;
    }
}

/* Update indicator for performance monitoring */
.data-table__row[sse-swap] {
    position: relative;
}

.data-table__row[sse-swap]::after {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    width: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, #3b82f6, transparent);
    animation: none;
}

.data-table__row.updating::after {
    width: 100%;
    animation: slide-right 0.5s ease-out forwards;
}

@keyframes slide-right {
    from {
        width: 0;
    }
    to {
        width: 100%;
    }
}

/* Smooth transitions */
.data-table__row {
    transition: background-color 0.2s ease, box-shadow 0.2s ease;
}
