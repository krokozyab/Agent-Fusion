# Orchestrator Application Configuration (HOCON format)
# Supports environment variable substitution: ${?ENV_VAR}

orchestrator {
  # Server configuration
  server {
    host = "127.0.0.1"
    host = ${?SERVER_HOST}
    
    port = 3000
    port = ${?SERVER_PORT}
    
    transport = "HTTP"  # HTTP or GRPC
    transport = ${?SERVER_TRANSPORT}
  }
  
  # Storage configuration
  storage {
    databasePath = "data/orchestrator.db"
    databasePath = ${?STORAGE_DB_PATH}
  }
  
  # Routing configuration
  routing {
    approvalThreshold = 0.6  # 60% confidence threshold
    approvalThreshold = ${?ROUTING_APPROVAL_THRESHOLD}
    
    defaultStrategy = "ROUND_ROBIN"  # ROUND_ROBIN, LEAST_LOADED, WEIGHTED, RANDOM
    defaultStrategy = ${?ROUTING_DEFAULT_STRATEGY}
  }
  
  # Consensus configuration
  consensus {
    strategies = ["MAJORITY"]  # MAJORITY, SUPERMAJORITY, UNANIMOUS, WEIGHTED
    
    quorumSize = 1
    quorumSize = ${?CONSENSUS_QUORUM_SIZE}
    
    agreementThreshold = 0.5  # 50% agreement threshold
    agreementThreshold = ${?CONSENSUS_AGREEMENT_THRESHOLD}
  }
}

web {
  host = "0.0.0.0"
  host = ${?WEB_HOST}

  port = 8081
  port = ${?WEB_PORT}

  staticPath = "static"
  staticPath = ${?WEB_STATIC_PATH}

  cors {
    enabled = true
    enabled = ${?WEB_CORS_ENABLED}
    allowedOrigins = ["http://localhost:8081", "http://127.0.0.1:8081"]
    allowedOrigins = ${?WEB_CORS_ALLOWED_ORIGINS}
  }

  ssl {
    enabled = false
    enabled = ${?WEB_SSL_ENABLED}
    keyStorePath = ${?WEB_SSL_KEYSTORE_PATH}
    keyStorePassword = ${?WEB_SSL_KEYSTORE_PASSWORD}
    privateKeyPassword = ${?WEB_SSL_PRIVATE_KEY_PASSWORD}
  }
}
